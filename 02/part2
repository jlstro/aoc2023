pwr=0; FILE=input.txt; while IFS= read -r line; do line=$(echo "$line" | sed 's/^Game [0-9]*: //g'); line=$(echo "$line" | tr ';' ','); red=$(echo "$line" | sed 's/[0-9]* green//g' | sed 's/[0-9]* blue//g' | sed 's/[^0-9 ]*//g' | tr ' ' '\n' | sort -n | tail -1 ); blue=$(echo "$line" | sed 's/[0-9]* green//g' | sed 's/[0-9]* red//g' | sed 's/[^0-9 ]*//g' | tr ' ' '\n' | sort -n | tail -1 ); green=$(echo "$line" | sed 's/[0-9]* red//g' | sed 's/[0-9]* blue//g' | sed 's/[^0-9 ]*//g' | tr ' ' '\n' | sort -n | tail -1 ); pwr=$(( $pwr + $red * $green * $blue )); done < "$FILE"; echo $pwr
